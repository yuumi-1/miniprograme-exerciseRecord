<!--index.wxml-->
<navigation-bar title="+" back="{{false}}" color="black" background="#FFF"></navigation-bar>
<view class="container">
  <!-- 首页内容区域 -->
  <view class="home-content">
  <!-- 顶部标题 -->
    <view class="page-title">我的训练记录</view>
  
  <!-- 无记录状态 -->
    <view class="empty-state" wx:if="{{records.length === 0}}">
      <image src="/images/empty.png" mode="aspectFit"></image>
      <text>暂无训练记录</text>
      <button class="add-btn" bindtap="navigateToAddRecord">
        添加记录
      </button>
    </view>
  
  <!-- 记录列表 -->
    <view class="records-list" wx:else>
      <view class="record-item" wx:for="{{records}}" wx:key="_id">
        <view class="record-header">
          <text class="date">{{item.date}}</text>
        </view>
      <!-- 动态遍历所有记录 -->
        <view class="exercise-group" wx:for="{{item.exercises}}" wx:key="index">
          <text class="exercise-name">{{item.name}}:</text>
          
          <!-- 遍历该练习的所有组 -->
          <view class="exercise-item" wx:for="{{item.sets}}" wx:key="setIndex">
            <text class="weight">{{item.weight}} {{unit}} x {{item.reps}}</text>
          </view>
        </view>
        <view class="record-footer">
          <text class="time">{{formatTime(item.createTime)}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 底部导航栏 -->
  <view class="bottom-nav">
    <view class="nav-item" bindtap="navigateToHome">
      <text class="nav-text">首页</text>
    </view>
    <view class="add-button" bindtap="navigateToAddRecord">
      +
    </view>
    <view class="nav-item" bindtap="navigateToProfile">
      <text class="nav-text">我的</text>
    </view>
  </view>
</view>